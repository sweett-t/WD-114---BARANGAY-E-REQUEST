<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Senior Citizen Certificate Application</title>
    <link rel="stylesheet" href="../css/style.css" />
    <link rel="stylesheet" href="../css/navbar.css" />
    <link rel="stylesheet" href="../css/form-senior-citizen.css" />
  </head>

  <body>
    <!-- NAVBAR -->
    <nav class="navbar">
      <a href="index.html" class="navbar-brand">Barangay E-Request</a>

      <!-- Hidden checkbox toggle-->
      <input
        type="checkbox"
        id="nav-toggle"
        class="nav-toggle"
        aria-hidden="true"
      />

      <ul class="navbar-nav">
        <li><a href="../user/user-dashboard.html">Dashboard</a></li>
        <li><a href="#" class="active">Request Documents</a></li>
        <li><a href="../user/my-requests.html">My Requests</a></li>
        <li><a href="../user/user-profile.html">Profile</a></li>
      </ul>

      <div class="navbar-right">
        <div class="navbar-user">
          <div class="avatar">JD</div>
          <span class="navbar-username">Juan Dela Cruz</span>
        </div>
        <!-- Hamburger label tied to checkbox -->
        <label for="nav-toggle" class="hamburger" aria-label="Toggle menu">
          <span></span>
          <span></span>
          <span></span>
        </label>
      </div>
    </nav>

    <!-- MAIN CONTENT -->
    <section class="section">
      <div class="form-wrapper">
        <!-- Return -->
        <div class="return-dashboard">
          <a href="../user/user-dashboard.html">← Return to Dashboard</a>
        </div>

        <!-- Title -->
        <div class="form-page-title">
          <h2>Senior Citizen Certificate Application</h2>
          <p>
            Please fill out all required fields accurately. The document will be
            processed within 1-3 business days.
          </p>
        </div>

        <!-- Form -->
        <div class="card form-container">
          <form>
            <fieldset>
              <legend>Personal Information</legend>

              <input type="text" placeholder="Full Name" required />

              <input
                type="text"
                placeholder="Address (House No., Street, Purok/Barangay)"
                required
              />

              <!-- Birthdate + Age -->
              <div style="display: flex; align-items: center; gap: 1rem">
                <input type="date" id="birthdate" required />
                <input
                  type="text"
                  id="age"
                  placeholder="Age"
                  readonly
                  style="width: 80px"
                />
              </div>

              <select required>
                <option value="" disabled selected>Gender</option>
                <option value="male">Male</option>
                <option value="female">Female</option>
                <option value="other">Other</option>
              </select>

              <select required>
                <option value="" disabled selected>Civil Status</option>
                <option value="single">Single</option>
                <option value="married">Married</option>
                <option value="widowed">Widowed</option>
                <option value="separated">Separated</option>
              </select>

              <input type="tel" placeholder="Contact Number" required />
            </fieldset>

            <!-- Uploads -->
            <fieldset>
              <legend>Required Uploads</legend>

              <div class="file-field">
                <label class="field-label">
                  Age Verification Document
                  <span style="color: red">*</span>
                </label>

                <select required>
                  <option value="" disabled selected>
                    Select Document Type
                  </option>
                  <option value="valid-id">Valid ID (Showing Age)</option>
                  <option value="birth-certificate">Birth Certificate</option>
                  <option value="other-age-document">
                    Other Document (Showing Age)
                  </option>
                </select>

                <input type="file" accept="image/*,.pdf" required />
              </div>
            </fieldset>
          </form>
        </div>

        <!-- Certification -->
        <div class="certification-section">
          <label class="checkbox-inline">
            <input type="checkbox" required />
            <span>
              I hereby confirm that the information provided above is true and
              accurate to the best of my knowledge, and I understand that any
              false statement may be subject to legal consequences.
            </span>
          </label>

          <div class="form-buttons-centered">
            <a href="../user/user-dashboard.html" class="btn btn-outline"
              >Cancel</a
            >
            <a href="request-success.html" class="btn btn-primary">Submit</a>
          </div>
        </div>
      </div>
    </section>

    <!-- FOOTER -->
    <footer class="footer">
      <p>&copy; 2026 Barangay Records System. All rights reserved.</p>
    </footer>

    <!-- ✅ AGE CALCULATION SCRIPT -->
    <script>
      const birthdateInput = document.getElementById("birthdate");
      const ageInput = document.getElementById("age");

      birthdateInput.addEventListener("change", function () {
        const birthDate = new Date(this.value);
        const today = new Date();

        let age = today.getFullYear() - birthDate.getFullYear();
        const monthDiff = today.getMonth() - birthDate.getMonth();

        // adjust if birthday not reached yet this year
        if (
          monthDiff < 0 ||
          (monthDiff === 0 && today.getDate() < birthDate.getDate())
        ) {
          age--;
        }

        // prevent negative age
        ageInput.value = age >= 0 ? age : "";
      });
    </script>
  </body>
</html>
